<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demo of <code>eur</code> and <code>eurusds</code> Functions • foRex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Demo of &lt;code&gt;eur&lt;/code&gt; and &lt;code&gt;eurusds&lt;/code&gt; Functions">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">foRex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/my-vignette.html">Demo of `eur` and `eurusds` Functions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Demo of <code>eur</code> and <code>eurusds</code> Functions</h1>
                        <h4 class="author">Ilda Kacerja</h4>
            
      
      
      <div class="hidden name"><code>my-vignette.Rmd</code></div>

    </div>

    
    
<p>Load necessary libraries.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(foRex)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(binancer)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(data.table)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</code></pre></div>
<p>Use function <code><a href="https://www.rdocumentation.org/packages/binancer/topics/binance_klines">binancer::binance_klines</a></code> to get the data for bitcoin prices in the last 45 days.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Getting data</span>
coin_prices &lt;-<span class="st"> </span><span class="kw">binance_klines</span>(<span class="st">'BTCUSDT'</span>, <span class="dt">interval =</span> <span class="st">'1d'</span>, <span class="dt">limit =</span> <span class="dv">45</span>) 
coin_prices[, date <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(close_time)]
coin_prices &lt;-<span class="st"> </span>coin_prices[, .(<span class="dt">btcusd_price =</span> close, date, volume)]
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(coin_prices)
<span class="co">#&gt;    btcusd_price       date   volume</span>
<span class="co">#&gt; 1:      5024.95 2019-04-15 29057.19</span>
<span class="co">#&gt; 2:      5173.72 2019-04-16 24242.23</span>
<span class="co">#&gt; 3:      5202.82 2019-04-17 23307.54</span>
<span class="co">#&gt; 4:      5258.44 2019-04-18 22619.24</span>
<span class="co">#&gt; 5:      5258.68 2019-04-19 24611.24</span>
<span class="co">#&gt; 6:      5291.73 2019-04-20 19168.91</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/dim">dim</a></span>(coin_prices)
<span class="co">#&gt; [1] 45  3</span>
<span class="co"># Set key for further merge</span>
<span class="kw">setkey</span>(coin_prices, date)</code></pre></div>
<p>The dataset has last 45 days of bitcoin prices in $ and volume.</p>
<p>Use function <code><a href="../reference/eurusds.html">foRex::eurusds</a></code> to get exchange rates $ to €, for the range of dates we are interested on (in this case the last 45 days).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">earliest_date &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">min</a></span>(coin_prices<span class="op">$</span>date)
latest_date &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">max</a></span>(coin_prices<span class="op">$</span>date)
<span class="co"># get exchange rates</span>
exchange_rates &lt;-<span class="st"> </span><span class="kw"><a href="../reference/eurusds.html">eurusds</a></span>(earliest_date, latest_date)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(exchange_rates)
<span class="co">#&gt;          date    usdeur</span>
<span class="co">#&gt; 1: 2019-05-16 0.8926180</span>
<span class="co">#&gt; 2: 2019-04-25 0.8990380</span>
<span class="co">#&gt; 3: 2019-05-13 0.8892841</span>
<span class="co">#&gt; 4: 2019-05-20 0.8954957</span>
<span class="co">#&gt; 5: 2019-04-30 0.8914245</span>
<span class="co">#&gt; 6: 2019-05-07 0.8940545</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/dim">dim</a></span>(exchange_rates)
<span class="co">#&gt; [1] 30  2</span>
<span class="co"># Set key for further merge</span>
<span class="kw">setkey</span>(exchange_rates, date)</code></pre></div>
<p>Exchange rates are not available for weekends and holidays, this explains the dataset with only 29 exchange rates instead of 45. The missing values will be imputed with the latest exchange rates available.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coin_prices &lt;-<span class="st"> </span>exchange_rates[coin_prices, roll =<span class="st"> </span><span class="ot">TRUE</span>]
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(coin_prices)
<span class="co">#&gt;          date    usdeur btcusd_price   volume</span>
<span class="co">#&gt; 1: 2019-04-15 0.8839388      5024.95 29057.19</span>
<span class="co">#&gt; 2: 2019-04-16 0.8845644      5173.72 24242.23</span>
<span class="co">#&gt; 3: 2019-04-17 0.8848774      5202.82 23307.54</span>
<span class="co">#&gt; 4: 2019-04-18 0.8888889      5258.44 22619.24</span>
<span class="co">#&gt; 5: 2019-04-19 0.8888889      5258.68 24611.24</span>
<span class="co">#&gt; 6: 2019-04-20 0.8888889      5291.73 19168.91</span></code></pre></div>
<p>The overall value of the bitcoin (in EUR) is calculated like below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coin_prices &lt;-<span class="st"> </span>coin_prices[, value_eur <span class="op">:</span><span class="er">=</span><span class="st"> </span>usdeur<span class="op">*</span>btcusd_price<span class="op">*</span>volume]
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(coin_prices)
<span class="co">#&gt;          date    usdeur btcusd_price   volume value_eur</span>
<span class="co">#&gt; 1: 2019-04-15 0.8839388      5024.95 29057.19 129064735</span>
<span class="co">#&gt; 2: 2019-04-16 0.8845644      5173.72 24242.23 110944279</span>
<span class="co">#&gt; 3: 2019-04-17 0.8848774      5202.82 23307.54 107304588</span>
<span class="co">#&gt; 4: 2019-04-18 0.8888889      5258.44 22619.24 105726143</span>
<span class="co">#&gt; 5: 2019-04-19 0.8888889      5258.68 24611.24 115042326</span>
<span class="co">#&gt; 6: 2019-04-20 0.8888889      5291.73 19168.91  90165944</span></code></pre></div>
<p>Below you can see the overall value of bitcoin in EUR for the past 45 days.</p>
<p>Use function <code><a href="../reference/eur.html">foRex::eur</a></code> to format the y-axis values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(coin_prices, <span class="kw">aes</span>(date, value_eur)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> eur) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"BTC Overall Value (€)"</span>,
                                          <span class="dt">subtitle =</span> <span class="st">"Past 45 days"</span>,
                                          <span class="dt">x =</span> <span class="st">" "</span>, 
                                          <span class="dt">y =</span> <span class="st">""</span>)</code></pre></div>
<p><img src="my-vignette_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ilda Kacerja.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
